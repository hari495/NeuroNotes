# YouTube Cookies Setup Guide

## Why Do I Need This?

YouTube is blocking automated transcript requests to prevent scraping. To bypass this, you need to provide browser cookies from a logged-in YouTube session. **This is completely safe** - the cookies are only used locally on your machine.

## Quick Setup (3 Steps)

### Step 1: Install Browser Extension

Install one of these cookie exporter extensions:

**Chrome/Edge/Brave:**
- [Get cookies.txt LOCALLY](https://chromewebstore.google.com/detail/get-cookiestxt-locally/cclelndahbckbenkjhflpdbgdldlbecc)

**Firefox:**
- [cookies.txt](https://addons.mozilla.org/en-US/firefox/addon/cookies-txt/)

### Step 2: Export YouTube Cookies

1. **Go to YouTube.com** and make sure you're logged in
2. **Click the extension icon** in your browser toolbar
3. **Click "Export" or "Get cookies.txt"**
4. **Save the file** as `youtube_cookies.txt`

### Step 3: Place the File

Move the `youtube_cookies.txt` file to your project root:

```
rag-study-app/
├── youtube_cookies.txt  ← Place it here!
├── main.py
├── requirements.txt
└── ...
```

## Test It Works

Run this test script:
```bash
python test_cookies.py
```

If you see ✅ SUCCESS messages, you're all set!

## Manual Export (Alternative Method)

If you don't want to use an extension:

### Chrome/Edge/Brave

1. Go to YouTube.com (logged in)
2. Press `F12` to open DevTools
3. Go to "Application" tab
4. Click "Cookies" → "https://www.youtube.com"
5. Look for these important cookies and copy their values:
   - `VISITOR_INFO1_LIVE`
   - `YSC`
   - `CONSENT`
   - `LOGIN_INFO`
   - `SAPISID`
   - `APISID`
   - `SSID`
   - `SID`

6. Create a `youtube_cookies.txt` file in Netscape format:

```
# Netscape HTTP Cookie File
# This file was generated by a browser extension. Edit at your own risk.
.youtube.com	TRUE	/	FALSE	0	VISITOR_INFO1_LIVE	<VALUE>
.youtube.com	TRUE	/	FALSE	0	YSC	<VALUE>
.youtube.com	TRUE	/	FALSE	0	CONSENT	<VALUE>
...
```

**Note:** Manual export is tedious. We highly recommend using the browser extension instead.

## Security & Privacy

### Is this safe?
**Yes!** The cookies never leave your machine. They're only used by the YouTube Transcript API to authenticate your requests, exactly like your browser does.

### What data is exposed?
Only YouTube session data. The cookies allow the script to access YouTube as if you were browsing it yourself.

### Should I commit this file to Git?
**NO!** The `.gitignore` file already excludes `youtube_cookies.txt` to prevent accidental commits.

## Troubleshooting

### "Cookies file not found"
- Make sure the file is named exactly `youtube_cookies.txt` (lowercase)
- Make sure it's in the project root directory
- Run `ls -la youtube_cookies.txt` to verify it exists

### "Still getting errors even with cookies"
- Your cookies might be expired. Re-export them
- Make sure you're logged into YouTube when exporting
- Try using a different browser
- Some videos may still fail if transcripts are disabled by the owner

### "Extension not exporting cookies"
- Make sure you're on YouTube.com when clicking the extension
- Make sure you're logged in
- Try refreshing the page and exporting again
- Try a different extension

## Alternative: Use yt-dlp (Advanced)

If you still have issues, you can use [yt-dlp](https://github.com/yt-dlp/yt-dlp) to download transcripts:

```bash
pip install yt-dlp
yt-dlp --write-auto-sub --skip-download VIDEO_URL
```

Then modify the code to use yt-dlp instead of youtube-transcript-api.

## Need Help?

1. Check that cookies are valid: `cat youtube_cookies.txt`
2. Run the test script: `python test_cookies.py`
3. Check backend logs when importing a video
4. Make sure you're using version 0.6.3: `pip list | grep youtube-transcript`

## Summary Checklist

- [  ] Install cookie exporter extension
- [ ] Go to YouTube.com (logged in)
- [ ] Export cookies
- [ ] Save as `youtube_cookies.txt`
- [ ] Place file in project root
- [ ] Run `python test_cookies.py`
- [ ] Restart backend: `python main.py`
- [ ] Try importing a video!

Once set up, the YouTube import feature should work smoothly!
